(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{5062:function(e,t,n){Promise.resolve().then(n.bind(n,1969)),Promise.resolve().then(n.t.bind(n,4589,23)),Promise.resolve().then(n.t.bind(n,900,23)),Promise.resolve().then(n.t.bind(n,3919,23)),Promise.resolve().then(n.t.bind(n,8877,23))},1969:function(e,t,n){"use strict";n.d(t,{default:function(){return d}});var i=n(7437),a=n(2265);let r="https://api.interactxp.in",s="interactxp",o="b306fc199c7c741b36748d68a9c91390333ecc2a6df54c08d07e44e91bad92fb",l=()=>(0,i.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsxs)("g",{transform:"translate(100,100) scale(0.88) translate(-311,-88)",children:[(0,i.jsx)("path",{d:"M227.897 77.1942C227.897 167.812 347.873 178.887 394.25 107.4C377.78 161.434 327.037 175.53 304.52 175.53C174.124 175.53 179.84 0 282.34 0C381.143 4.6987 362.324 142.975 276.291 116.125L272.594 66.453L299.143 54.3706L296.118 97.3301C321.66 97.3301 327.037 74.5079 327.037 62.7625C327.037 43.4747 307.052 23.4437 285.028 22.3396C257.999 20.9844 227.897 43.7202 227.897 77.1942Z",fill:"url(#wg1)"}),(0,i.jsx)("path",{d:"M270.911 41.9526L272.594 61.4187L299.143 48.3294V41.9526H270.911Z",fill:"url(#wg2)"})]}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"wg1",x1:"228",y1:"17",x2:"368",y2:"153",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#01FFFF"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#001FFE"})]}),(0,i.jsxs)("linearGradient",{id:"wg2",x1:"228",y1:"17",x2:"368",y2:"153",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#01FFFF"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#001FFE"})]})]})]});function d(){let[e,t]=(0,a.useState)(!1),[n,d]=(0,a.useState)("idle"),[c,p]=(0,a.useState)(""),[x,h]=(0,a.useState)(""),[f,g]=(0,a.useState)(""),[u,m]=(0,a.useState)([]),[b,y]=(0,a.useState)(null),[v,j]=(0,a.useState)(!1),[w,_]=(0,a.useState)(0),[k,S]=(0,a.useState)({}),C=(0,a.useRef)(null),F=(0,a.useRef)(null),N=(0,a.useRef)(null);async function z(){if(function(){let e={};return c.trim()||(e.name="Name is required"),x.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.trim())||(e.email="Enter a valid email"):e.email="Email is required",f.trim()||(e.msg="Message is required"),S(e),0===Object.keys(e).length}()){j(!0);try{let e=await fetch("".concat(r,"/chat/").concat(s,"/start"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify({visitor_name:"".concat(c.trim()," (").concat(x.trim(),")"),page:window.location.pathname,first_message:f.trim()})}),t=await e.json();y(t.session_id),m([{from_role:"visitor",message:f.trim(),created_at:Date.now()/1e3}]),_(Math.floor(Date.now()/1e3)),g(""),d("chat")}catch(e){}finally{j(!1)}}}async function I(){let e=f.trim();if(e&&b){j(!0),m(t=>[...t,{from_role:"visitor",message:e,created_at:Date.now()/1e3}]),g("");try{await fetch("".concat(r,"/chat/").concat(s,"/message"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify({session_id:b,message:e})})}catch(e){}finally{j(!1)}}}function R(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),"form"===n?z():"chat"===n&&I())}async function D(){if(t(!1),b&&"chat"===n){try{await fetch("".concat(r,"/chat/").concat(b,"/close"),{method:"POST"})}catch(e){}d("closed")}}(0,a.useEffect)(()=>{C.current&&(C.current.scrollTop=C.current.scrollHeight)},[u]),(0,a.useEffect)(()=>{var t;e&&"chat"===n&&(null===(t=N.current)||void 0===t||t.focus())},[e,n]),(0,a.useEffect)(()=>{if(b&&"chat"===n)return F.current=setInterval(async()=>{try{var e;let t=await fetch("".concat(r,"/chat/").concat(b,"/poll?since=").concat(w)),n=await t.json();if("closed"===n.status){d("closed"),clearInterval(F.current);return}(null===(e=n.messages)||void 0===e?void 0:e.length)>0&&(m(e=>[...e,...n.messages]),_(n.messages[n.messages.length-1].created_at))}catch(e){}},3e3),()=>clearInterval(F.current)},[b,n,w]);let P=e=>new Date(1e3*e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("style",{children:"\n        @keyframes widgetPop {\n          0% { transform: scale(0.6) translateY(12px); opacity: 0; }\n          70% { transform: scale(1.05) translateY(-2px); opacity: 1; }\n          100% { transform: scale(1) translateY(0); opacity: 1; }\n        }\n        @keyframes widgetPulseRing {\n          0% { transform: scale(1); opacity: 0.6; }\n          100% { transform: scale(1.6); opacity: 0; }\n        }\n        @keyframes widgetSlideUp {\n          from { opacity: 0; transform: translateY(16px) scale(0.96); }\n          to { opacity: 1; transform: translateY(0) scale(1); }\n        }\n        @keyframes msgIn { from { opacity:0; transform:translateY(6px); } to { opacity:1; transform:translateY(0); } }\n        @keyframes pulse { 0%,100% { opacity:1; } 50% { opacity:0.4; } }\n        .widget-btn {\n          width:56px; height:56px; border-radius:50%;\n          border:2px solid rgba(34,211,238,0.3); cursor:pointer;\n          display:flex; align-items:center; justify-content:center;\n          box-shadow:0 4px 24px rgba(34,211,238,0.35);\n          transition:transform 0.2s, box-shadow 0.2s;\n          animation:widgetPop 0.4s cubic-bezier(0.34,1.56,0.64,1);\n          position:relative; z-index:1;\n          background:rgba(10,22,40,0.9);\n        }\n        .widget-btn:hover { transform:scale(1.08); box-shadow:0 6px 32px rgba(34,211,238,0.55); }\n        .widget-ring {\n          position:absolute; width:56px; height:56px;\n          border-radius:50%; border:2px solid rgba(34,211,238,0.5);\n          animation:widgetPulseRing 2s ease-out infinite; pointer-events:none;\n        }\n        .widget-card { animation:widgetSlideUp 0.25s cubic-bezier(0.34,1.1,0.64,1); }\n        .chat-input {\n          flex:1; background:transparent; border:none; outline:none;\n          color:#e2e8f0; font-size:13px; font-family:var(--font-dm-sans),system-ui;\n        }\n        .chat-input::placeholder { color:#334155; }\n        .widget-field {\n          width:100%; box-sizing:border-box;\n          background:#0d1b2a; border:1px solid #1e2d47; border-radius:10px;\n          padding:9px 12px; color:#e2e8f0; font-size:13px; outline:none;\n          font-family:var(--font-dm-sans),system-ui; transition:border-color 0.2s;\n        }\n        .widget-field:focus { border-color:rgba(34,211,238,0.4); }\n        .widget-field.has-error { border-color:rgba(239,68,68,0.5); }\n        .field-err { font-size:11px; color:#ef4444; margin-top:3px; padding-left:2px; }\n        .msg-bubble { animation:msgIn 0.2s ease; }\n        ::-webkit-scrollbar { width:3px; }\n        ::-webkit-scrollbar-thumb { background:rgba(34,211,238,0.15); border-radius:2px; }\n      "}),(0,i.jsxs)("div",{style:{position:"fixed",bottom:28,right:28,zIndex:999,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:12},children:[e&&(0,i.jsxs)("div",{className:"widget-card",style:{background:"rgba(10,22,40,0.98)",border:"1px solid rgba(34,211,238,0.2)",borderRadius:18,width:300,boxShadow:"0 16px 64px rgba(0,0,0,0.5)",backdropFilter:"blur(16px)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,i.jsxs)("div",{style:{padding:"14px 16px",borderBottom:"1px solid rgba(255,255,255,0.05)",display:"flex",alignItems:"center",gap:10},children:[(0,i.jsx)("div",{style:{width:36,height:36,borderRadius:"50%",flexShrink:0,background:"rgba(10,22,40,0.8)",border:"1px solid rgba(34,211,238,0.15)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(l,{})}),(0,i.jsxs)("div",{style:{flex:1},children:[(0,i.jsx)("div",{style:{fontWeight:700,color:"white",fontSize:13,fontFamily:"var(--font-display)"},children:"InteractXP"}),(0,i.jsxs)("div",{style:{fontSize:11,color:"#22d3ee",display:"flex",alignItems:"center",gap:4},children:[(0,i.jsx)("span",{style:{width:5,height:5,borderRadius:"50%",background:"#22d3ee",animation:"pulse 2s infinite",display:"inline-block"}}),"closed"===n?"Chat ended":"Online \xb7 replies fast"]})]}),(0,i.jsx)("button",{onClick:D,style:{background:"transparent",border:"none",color:"#475569",cursor:"pointer",padding:4,display:"flex"},children:(0,i.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("path",{d:"M4 4l8 8M12 4l-8 8",strokeLinecap:"round"})})})]}),"form"===n&&(0,i.jsxs)("div",{style:{padding:16,display:"flex",flexDirection:"column",gap:8},children:[(0,i.jsxs)("div",{style:{background:"#0d1b2a",border:"1px solid #1e2d47",borderRadius:12,padding:"10px 12px",marginBottom:4},children:[(0,i.jsx)("p",{style:{color:"#cbd5e1",fontSize:13,lineHeight:1.6,margin:0,fontFamily:"var(--font-dm-sans)"},children:"\uD83D\uDC4B Hey! Got a question about Relay, the AI Photobooth, or a custom build?"}),(0,i.jsx)("p",{style:{color:"#cbd5e1",fontSize:13,lineHeight:1.6,margin:"6px 0 0",fontFamily:"var(--font-dm-sans)"},children:"Send a message and I'll reply right here."})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{className:"widget-field".concat(k.name?" has-error":""),value:c,onChange:e=>{p(e.target.value),S(e=>({...e,name:void 0}))},placeholder:"Your name *"}),k.name&&(0,i.jsx)("div",{className:"field-err",children:k.name})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{className:"widget-field".concat(k.email?" has-error":""),type:"email",value:x,onChange:e=>{h(e.target.value),S(e=>({...e,email:void 0}))},placeholder:"Your email *"}),k.email&&(0,i.jsx)("div",{className:"field-err",children:k.email})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{style:{display:"flex",gap:8,background:"#0d1b2a",border:"1px solid ".concat(k.msg?"rgba(239,68,68,0.5)":"#1e2d47"),borderRadius:10,padding:"6px 10px",alignItems:"center"},children:[(0,i.jsx)("input",{ref:N,className:"chat-input",value:f,onChange:e=>{g(e.target.value),S(e=>({...e,msg:void 0}))},onKeyDown:R,placeholder:"Type your message... *"}),(0,i.jsx)("button",{onClick:z,disabled:v,style:{width:32,height:32,borderRadius:"50%",border:"none",cursor:"pointer",background:"linear-gradient(135deg,#22d3ee,#0ea5e9)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:v?(0,i.jsx)("span",{style:{width:10,height:10,border:"2px solid #050d1a",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 0.6s linear infinite",display:"inline-block"}}):(0,i.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"#050d1a",style:{transform:"rotate(45deg)",marginLeft:-1},children:(0,i.jsx)("path",{d:"M2 21l21-9L2 3v7l15 2-15 2v7z"})})})]}),k.msg&&(0,i.jsx)("div",{className:"field-err",children:k.msg})]})]}),("chat"===n||"closed"===n)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{ref:C,style:{flex:1,overflowY:"auto",padding:"12px 12px 8px",background:"#080f1a",minHeight:240,maxHeight:320,display:"flex",flexDirection:"column",gap:6},children:[u.map((e,t)=>{let n="owner"===e.from_role;return(0,i.jsx)("div",{className:"msg-bubble",style:{display:"flex",justifyContent:n?"flex-start":"flex-end"},children:(0,i.jsxs)("div",{style:{maxWidth:"75%",background:n?"#1a2e3d":"#1e4a6e",borderRadius:n?"3px 12px 12px 12px":"12px 12px 3px 12px",padding:"7px 10px"},children:[(0,i.jsx)("div",{style:{fontSize:13,color:"#e2e8f0",fontFamily:"var(--font-dm-sans)",lineHeight:1.5},children:e.message}),(0,i.jsx)("div",{style:{fontSize:10,color:"#4a7a96",textAlign:"right",marginTop:2},children:P(e.created_at)})]})},t)}),"closed"===n&&(0,i.jsx)("div",{style:{textAlign:"center",fontSize:11,color:"#334155",padding:"8px 0"},children:"Chat session ended"})]}),"chat"===n&&(0,i.jsxs)("div",{style:{borderTop:"1px solid rgba(255,255,255,0.05)",padding:"8px 10px",background:"#0a1628",display:"flex",gap:8,alignItems:"center"},children:[(0,i.jsx)("div",{style:{flex:1,background:"#0d1b2a",border:"1px solid #1e2d47",borderRadius:20,padding:"7px 12px",display:"flex",alignItems:"center"},children:(0,i.jsx)("input",{ref:N,className:"chat-input",value:f,onChange:e=>g(e.target.value),onKeyDown:R,placeholder:"Reply..."})}),(0,i.jsx)("button",{onClick:I,disabled:!f.trim()||v,style:{width:34,height:34,borderRadius:"50%",border:"none",cursor:"pointer",background:f.trim()?"linear-gradient(135deg,#22d3ee,#0ea5e9)":"#1e2d47",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:"background 0.2s"},children:(0,i.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:f.trim()?"#050d1a":"#334155",style:{transform:"rotate(45deg)",marginLeft:-1},children:(0,i.jsx)("path",{d:"M2 21l21-9L2 3v7l15 2-15 2v7z"})})})]}),(0,i.jsx)("div",{style:{padding:"6px 12px 10px",textAlign:"center"},children:(0,i.jsxs)("span",{style:{fontSize:10,color:"#1e2d47",fontFamily:"var(--font-dm-sans)"},children:["Powered by ",(0,i.jsx)("a",{href:"/relay",style:{color:"#22d3ee",textDecoration:"none"},children:"Relay"})]})})]})]}),!e&&(0,i.jsx)("div",{className:"widget-ring",style:{position:"absolute",bottom:0,right:0}}),(0,i.jsx)("button",{className:"widget-btn",onClick:e?D:function(){t(!0),"idle"===n&&d("form")},"aria-label":"Chat with us",children:e?(0,i.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg,#22d3ee,#0ea5e9)",borderRadius:"50%"},children:(0,i.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#050d1a",strokeWidth:"2.5",strokeLinecap:"round",children:(0,i.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})}):(0,i.jsx)(l,{})})]})]})}},8877:function(){},900:function(e){e.exports={style:{fontFamily:"'__DM_Sans_0d7163', '__DM_Sans_Fallback_0d7163'",fontStyle:"normal"},className:"__className_0d7163",variable:"__variable_0d7163"}},3919:function(e){e.exports={style:{fontFamily:"'__JetBrains_Mono_3c557b', '__JetBrains_Mono_Fallback_3c557b'",fontStyle:"normal"},className:"__className_3c557b",variable:"__variable_3c557b"}},4589:function(e){e.exports={style:{fontFamily:"'__Syne_744198', '__Syne_Fallback_744198'",fontStyle:"normal"},className:"__className_744198",variable:"__variable_744198"}}},function(e){e.O(0,[445,971,23,744],function(){return e(e.s=5062)}),_N_E=e.O()}]);